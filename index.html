<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Landing Page</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Monoton&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cantarell:ital,wght@0,400;0,700;1,400;1,700&family=Monoton&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cantarell:ital,wght@0,400;0,700;1,400;1,700&family=Monoton&family=Saira+Condensed:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body class="theme-light">
<header>
    <div class="presentation">
        <div class="logo" onclick="irALanding()">Logo</div>
        <div class="button-container">
            <button onclick="irAAdministrador()">Administrador</button>
            <button onclick="irAMarketing()">Marketing</button>
            <button onclick="irAEmpleado()">Empleado</button>
            <button onclick="irALanding()">Usuario</button>
        </div>
        <h1 class="neon">CINE TEATRO</h1>
    </div>
    <div class="slogan">
        <p>A un click de tu sala</p>
    </div>
    <div class="buttons" id="buttons-header">
        <button class="signin-btn" data-toggle="modal" data-target="#loginModal">INICIO DE SESIÓN</button>
        <button class="signin-btn" data-toggle="modal" data-target="#registerModal">REGISTRO</button>
    </div>
    <div class="profile-buttons" id="profile-header" style="display: none">
        <button class="signin-btn" onclick="irAHistorias()">HISTORIAS</button>
        <div class="avatar-container" onclick="irAProfile()"></div>
    </div>
</header>

<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-18 carousel-actions-container carousel" id="carousel">
            <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
                <ol class="carousel-indicators">
                    <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                </ol>
                <div class="carousel-inner rounded mx-auto">
                    <div class="carousel-item active">
                        <img src="img/image01.jpg" class="d-block carousel-image" alt="Imagen 1" data-class-name="joker-description" data-video-id="t433PEQGErc" data-language="Idioma: Español" data-subtitles="Sin Sub">
                    </div>
                    <div class="carousel-item">
                        <img src="img/image02.jpg" class="d-block carousel-image" alt="Imagen 2" data-class-name="killbill-description" data-video-id="7kSuas6mRpk" data-language="Idioma: Inglés" data-subtitles="Sub: Español">
                    </div>
                    <div class="carousel-item">
                        <img src="img/image03.jpg" class="d-block carousel-image" alt="Imagen 3" data-class-name="fighter-description" data-video-id="lAVYll_wBeY" data-language="Idioma: Francés" data-subtitles="Sub: Español">
                    </div>
                </div>
                <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
            <div class="mt-3 carousel-actions">
                <button class="btn btn-secondary active">CARRUSEL</button>
                <button class="btn btn-secondary" onclick="vistaGaleria()">LISTADO</button>
            </div>
            <div id="floating-container">
                <button class="signin-btn comprar" onclick="comprar()">COMPRAR</button>
            </div>
        </div>
        <div class="col-md-18 carousel-actions-container gallery display-none" id="gallery">
            <div class="mt-3 carousel-actions">
                <button class="btn btn-secondary" onclick="vistaCarousel()">CARRUSEL</button>
                <button class="btn btn-secondary active">LISTADO</button>
            </div>
            <table>
                <thead>
                <tr>
                    <th>Título</th>
                    <th></th>
                    <th>Portada</th>
                    <th></th>
                    <th>Sinópsis</th>
                    <th></th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>Joker</td>
                    <td></td>
                    <td><img src="img/image01.jpg" class="d-block carousel-image" alt="Imagen 1"></td>
                    <td></td>
                    <td><b>Sinópsis: </b>Arthur Fleck adora hacer reír a la gente,
                        pero su carrera como comediante es un
                        fracaso. El repudio social, la marginación y
                        una serie de trágicos acontecimientos lo
                        conducen por el sendero de la locura y,
                        finalmente, cae en el mundo del crimen.</td>
                    <td></td>
                    <td><button class="action-btn money-bill"><i class="fa-solid fa-money-bill"></i></button></td>
                </tr>
                <tr>
                    <td>Kill Bill</td>
                    <td></td>
                    <td><img src="img/image02.jpg" class="d-block carousel-image" alt="Imagen 1"></td>
                    <td></td>
                    <td><b>Sinópsis: </b>Mamba Negra es una asesina que, el día de su
                        boda, es atacada por los miembros de la
                        banda de su jefe, Bill. Sin embargo consigue
                        sobrevivir, aunque queda en coma. Cinco años
                        después despierta, con un deseo de venganza.</td>
                    <td></td>
                    <td><button class="action-btn money-bill"><i class="fa-solid fa-money-bill"></i></button></td>
                </tr>
                <tr>
                    <td>Fighter</td>
                    <td></td>
                    <td><img src="img/image03.jpg" class="d-block carousel-image" alt="Imagen 1"></td>
                    <td></td>
                    <td><b>Sinópsis: </b>Dicky Eklund es un boxeador conflictivo pero
                        con talento que intenta redimirse entrenando
                        a su hermano pequeño. En el pasado, Dicky había
                        sido el orgullo de su ciudad por haber tumbado
                        a un campeón del mundo, pero las drogas y la
                        delincuencia le hundieron. Mientras tanto, su
                        hermano se ha convertido en una promesa del
                        boxeo y pese a su potente gancho de izquierda,
                        siempre acaba derrotado.</td>
                    <td></td>
                    <td><button class="action-btn money-bill"><i class="fa-solid fa-money-bill"></i></button></td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
<div class="modal fade" id="loginModal" tabindex="-1" role="dialog" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">Inicio de Sesión</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="form-group">
                        <label for="email">Correo electrónico</label>
                        <input type="email" class="form-control" id="email" aria-describedby="emailHelp" placeholder="Enter email">
                    </div>
                    <div class="form-group">
                        <label for="password">Contraseña</label>
                        <input type="password" class="form-control" id="password" placeholder="Password">
                    </div>
                    <div class="btn btn-primary" onclick="mostrarPorfileButtonsPostLogin()" data-dismiss="modal">Submit</div>
                </form>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="registerModal" tabindex="-1" role="dialog" aria-labelledby="registerModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="registerModalLabel">Registro</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="form-group">
                        <label for="email">Correo electrónico</label>
                        <input type="email" class="form-control" id="email-register" aria-describedby="emailHelp" placeholder="Enter email">
                    </div>
                    <div class="form-group">
                        <label for="password">Contraseña</label>
                        <input type="password" class="form-control" id="password-register" placeholder="Password">
                    </div>
                    <div class="form-group">
                        <label for="password">Repetir contraseña</label>
                        <input type="password" class="form-control" id="repeat-password-register" placeholder="Password">
                    </div>
                    <div class="form-group">
                        <label for="birthdate">Fecha de nacimiento</label>
                        <input type="date" class="form-control" id="birthdate">
                    </div>
                    <div class="btn btn-primary" onclick="mostrarPorfileButtonsPostRegister()" data-dismiss="modal">Submit</div>
                </form>
            </div>
        </div>
    </div>
</div>
<script src="script.js"></script>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<script>
    let isVideoPlaying = false;

    function irAEmpleado(){
        window.location.href = 'empleado.html';
    }
    function irAAdministrador(){
        window.location.href = 'administrador.html';
    }
    function irAMarketing(){
        window.location.href = 'marketing.html';
    }

    function irAHistorias(){
        window.location.href = 'hisotrias.html';
    }

    function comprar() {
        window.location.href = 'compra.html';
    }

    function irALanding() {
        window.location.href = 'index.html';
    }

    function irAProfile() {
        window.location.href = 'profile.html';
    }

    function vistaCarousel() {
        let galleryElement = document.getElementById('gallery');
        let carouselElement = document.getElementById('carousel');
        if (!galleryElement.classList.contains('display-none')){
            galleryElement.classList.add('display-none');
            carouselElement.classList.remove('display-none')
        }
    }

    function vistaGaleria() {
        let carouselElement = document.getElementById('carousel');
        let galleryElement = document.getElementById('gallery');
        if (!carouselElement.classList.contains('display-none')){
            carouselElement.classList.add('display-none');
            galleryElement.classList.remove('display-none')
        }
    }

    document.querySelectorAll('.carousel-item img').forEach(image => {
        image.addEventListener('click', function() {
            const videoId = this.getAttribute('data-video-id');
            const iframe = document.createElement('iframe');
            iframe.width = this.width;
            iframe.height = this.height;
            iframe.src = `https://www.youtube.com/embed/${videoId}?autoplay=1&controls=0&modestbranding=1&showinfo=0&rel=0`;
            iframe.frameBorder = '0';
            iframe.allow = 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture';
            iframe.allowFullscreen = true;

            const carouselItem = this.parentNode;
            carouselItem.innerHTML = '';
            carouselItem.appendChild(iframe);


            const floatingContainer = document.getElementById('floating-container');

            floatingContainer.style.display = 'block';
            const floatingClass = this.getAttribute('data-class-name');
            floatingContainer.classList.add(floatingClass);

            document.getElementById('carouselExampleIndicators').classList.add('paused');
            isVideoPlaying = true;

            const handleEscape = function(event) {
                if (event.key === 'Escape') {
                    iframe.remove();
                    carouselItem.innerHTML = `<img src="${image.src}" class="d-block carousel-image" alt="${image.alt}" data-class-name="${image.getAttribute('data-class-name')}" data-video-id="${videoId}" data-language="${image.getAttribute('data-language')}" data-subtitles="${image.getAttribute('data-subtitles')}">`;

                    floatingContainer.style.display = 'none';
                    floatingContainer.classList.remove(floatingClass);

                    document.removeEventListener('keydown', handleEscape);
                    document.getElementById('carouselExampleIndicators').classList.remove('paused');
                    isVideoPlaying = false;
                }
            };

            document.addEventListener('keydown', handleEscape);
        });
    });

    document.getElementById('carouselExampleIndicators').addEventListener('slide.bs.carousel', function(event) {
        if (isVideoPlaying) {
            event.preventDefault();
        }
    });

</script>
</body>
</html>
